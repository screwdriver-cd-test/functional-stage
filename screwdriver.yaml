shared:
  image: node:20
  steps:
    - echo: echo hi
jobs:
  hub:
    requires: [~commit, ~pr]
    annotations:
      screwdriver.cd/virtualJob: true
  a:
    requires: []
  b:
    requires: [~a]
    steps:
    - echo: exit 1;
  c:
    requires: [~b]
  target:
    requires: [~stage@incomplete_fail]
    annotations:
      screwdriver.cd/virtualJob: true
stages:
  incomplete_fail:
    requires: [~hub]
    jobs: [a, b, c]
    description: First stage
